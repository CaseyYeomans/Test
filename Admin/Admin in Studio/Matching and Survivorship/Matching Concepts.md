# Matching Concepts

| | | | |
| --- | --- | --- | --- |
| **Matching Sets** | **Behavior** | **Use** | **Example** |
| Attribute Set | Multiple sets can be used with different minimum matching criteria to handle blank attribute values and different matching scenarios. Each set represents the minimum matching criteria. Start with one attribute, and if there is overmatching, add another. If there is still overmatching, add another. More attributes result in fewer matches being found. | For best performance, the first attribute in the set should be the one with the most distinct values. Do NOT use a single set with multiple attributes with "Ignore blanks" to handle blank values. Do NOT use "Ignore Blanks" on the first attribute set. Doing so may decrease performance. Do NOT build descending sets with the same 4 attributes, then 3, then 2, etc. Each set should have the minimum required attributes to make a match. If 2 are the minimum, then 4 and 3 are redundant. | Set1: SSN (Unique identifier, can be used as a minimum criterion to identify a person) Set2: Name, Email (Used when SSN is blank or different. Name is not enough by itself to identify the person, neither is Email. Together they are the minimum criteria to identify a person) Set3: Name, Address Line 1, ZipCode (Used when SSN and/or Email are blank or different. Name is not enough by itself to identify the person, neither is Address Line 1 plus ZipCode. Together, they are the minimum criteria to identify a person. City, State, Country attributes are not required because ZipCode contains all the required information to ensure Address Line 1 is not a duplicate. |
| **Matching Criteria** | **Behavior** | **Use** | **Example** |
| Clearing Criteria | The From matching criteria will be used to determine which records to clear | Use for clearing only a specific subset of records, not related to the matching criteria. Recommended using a separate "Clearing Only" strategy with custom From criteria. | Clear Criteria: Source = Salesforce. Records with source of Salesforce will be cleared and if any golden records are left with no children will be removed. Other records in the group are not affected. |
| From Criteria and To Criteria | Records in the From criteria will be processed and only match to records in the To criteria. | Use when you want specific subset of records to match only to other subset of records. | From: Source System = Salesforce To: Source System = Dynamics CRM Salesforce records can only be matched to Dynamics CRM records. Salesforce cannot match Salesforce and Dynamics CRM cannot match Dynamics CRM. All other sources cannot match as well. |
| Set Criteria | Records are filtered before they are matched in this set. | Use for specific use cases, where different attributes must be used for certain records. | SSN must be a match, different SSNs cannot be in the same group, but records with no SSN can be in the same group if they match on Name and Address. Set1. SSN only - no filter. Set2. Name, Address - Filter: SSN is Null. |
| **Match Type** | **Behavior** | **Use** | **Example** |
| Exact | The entire value is matched. | Best used for unique identifiers - SSN, Phone Number, Zip Code, etc. High performance | "John Smith" = "John Smith" - Score (1.0) |
| Word | Value is broken up into words separated by spaces, and each word is matched regardless of word order. | Best used for multi-word values where order should be ignored - Full Name, Full Address, etc. Medium performance | "John" "Smith" = "John" "Smith" - Score (1.0) "John" "Smith" = "Smith" "John"- Score (1.0) |
| Token | Value is broken up into 3 character pieces and matched using a similarity calculation. | Best used for values which can be similar but not exactly the same - First Name, Email, Address Line 1, etc. Low performance | A tokens: " jo" "joh" "ohn" "hn "" sm", "smi", "mit" "ith" "th " B Tokens: " jo" "joh" "ohn" "hn "" sm", "smi", "mit" "ith" "th " Score (1.0) Calculation: ((Common tokens)^2/(A Tokens)\*(B Tokens))^0.5 |
| **Threshold** | **Behavior** | **Use** | **Example** |
| Match Threshold | Values with scores above it are matched. Each attribute must match above its threshold to have a record match. The average of the individual attribute thresholds is used to calculate a combined set threshold. | Related to Match type. Recommended range: 0.7 - 1.0 Lower thresholds significantly increase the size of the index and decrease performance. | Combined Threshold: 0.7 Auto-Approved Threshold: 0.9 Combined Score: 0-0.7 (Null) Combined Score: 0.7-0.9 (Proposed) Combined Score: 0.9-1.0 (Auto-Approved) |
| Auto-Approve Threshold | Determines whether records matched above the Combined Match Threshold should be Proposed or Approved. | Recommended range: 0.9-1.0 Can be set above 1.0 to force all matches to Proposed status (see example). | Combined Threshold: 0.7 Auto-Approved Threshold: 1.01 Combined Score: 0-0.7 (Unmatched/Null) Combined Score: 0.7-1.0 (Proposed) |
| **Blank Values** | **Behavior** | **Use** | **Example** |
| Exclude Members | Records with blank values are excluded from matching in this set. | Recommended for all attributes required to establish a match - Name, Phone, Email, Address, SSN, etc. | Name (Exclude Members): "Null" = Excluded from set "John Smith" = "John Smith" |
| Ignore Blanks | Records with blank values match to records with blank or a value. Records with a value do NOT match a record with a blank - if any value can equal null, then different values can match in the same group, which is not allowed. | Use when a Null is allowed to join, and can match a value. Recommended for up to 1 attribute not required to establish a match, but used to avoid overmatching - Suite Number, Middle Initial, Gender, etc. Do NOT use "Ignore Blanks" on the first attribute set. Doing so may decrease performance. | Middle Initial (Ignore Blanks): "John" "Null" "Smith" = "John" "Null" "Smith" "John" "Null" "Smith" = "John" "A" "Smith" "John" "A" "Smith" <> "John" "Null" "Smith" "John" "A" "Smith" = "John" "A" "Smith" |
| Group Blanks | Records with blank values match other records with blank values. Records with blank values do NOT match other records with values. Records with a value do NOT match a record with a blank. | Use when a Null is allowed to join, but should not match a value. Recommended for up to 1 attribute not required to establish a match, but used to avoid overmatching - Name Suffix, Phone Extension, etc. | Name Suffix (Group Blanks): "John" "Smith" "Null" = "John" "Smith" "Null" "John" "Smith" "Null" <> "John" "Smith" "Jr" "John" "Smith" "Jr" <> "John" "Smith" "Null" "John" "A" "Smith" = "John" "A" "Smith" |
| **Synonyms** | **Behavior** | **Use** | **Example** |
| Synonym List | Record values are compared to the selected list of values during indexing and replaced in the index based on the priority in the list. | Use for removing invalid characters and whole values, removing common words, and standardizing formats | Replace "Jon" with "John" in Index "Jon Smith" = "John Smith" - Score (1.0) Replace (.) with Null. Search in String = Yes "John.Smith" = "John Smith" - Score (1.0) |
| **Matching Options** | **Behavior** | **Use** | **Example** |
| Leave unique as unmatched | Clears all unique records to become unmatched. | Use only when you have a Multi-Step strategy configuration where you want to take the unique records from strategy 1 and match them on strategy 2. Do NOT use when you have a large number of Unique records since they will have to be processed twice every strategy run. | Matching processes first record through all sets, then second record through all sets, etc. If your business scenario requires all records to be matched on Set1 only, then only the records that did not find matches to be matched on Set2, then you can "Leave Unique as unmatched", and separate Set1 and Set2 into separate strategies. |
| Prioritize Order of Sets | When multiple matches are found, the match member is chosen based on the Top Set. | Use when the sets are ordered by priority and the higher set indicates a preferred match, even at a lower score | Record A is matched in group 1, Record B is matched in group 2: Record C matches Record A on Set1 with Score 0.8, and matches Record B on Set2 with Score 1.0. Result: Record C will join record A. If all are unmatched, all records will group together. |
| Prioritize Highest Score | When multiple matches are found, the match member is chosen based on the Top Score. | Use when the sets have equal value and the higher score indicates a preferred match, regardless of set order | Record A is matched in group 1, Record B is matched in group 2: Record C matches Record A on Set1 with Score 0.8, and matches Record B on Set2 with Score 1.0. Result: Record C will join record B. If all are unmatched, all records will group together. |